Program the arduino without the IDE.

Use "make" to build the firmware.

Use "make upload" to push the firmware to the arduino.

Use "serial_loopback.pl" to test the arduino's firmware.

If you do not have the requried toolchain (if avr-g++ is not in your path) see:
 https://github.com/ericherman/avr-toolchain-build

If you do not have the arduino libraries installed, see:
 https://github.com/arduino/Arduino
